{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</variable><variable id=\"Xf_)u_=nVi#[6Bg!ojrY\">cmd</variable><variable id=\"VtH]~MgY-v4job|mY]A9\">userOverride</variable><variable id=\"*9K-[s!1S(?lYVG{E3`J\">temp</variable><variable id=\"FGMlW5~!X/0E|Y(kaGEc\">humid</variable><variable id=\"KEgf3BxC6:+B/?,${;UP\">moist</variable><variable id=\"Q7%H]S{V@4biRA8EdAl}\">pumpSignalSent</variable></variables><block type=\"yolobit_events_message\" id=\"1m+_wzQXr+Kk*nKVoNe3\" x=\"837\" y=\"-562\"><field name=\"MESSAGE\">1</field><statement name=\"ACTION\"><block type=\"variables_set\" id=\"g7@IVT]ea!Djfq7cGS^N\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field><value name=\"VALUE\"><block type=\"math_number\" id=\"QNjn+9@BW:odri345Xpu\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"y{[,%U|oC}[i,.)Wvg@;\"><field name=\"VAR\" id=\"VtH]~MgY-v4job|mY]A9\">userOverride</field><value name=\"VALUE\"><block type=\"math_number\" id=\"l4e1+B@ERE*gOrEb80Mo\"><field name=\"NUM\">0</field></block></value></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-238\" y=\"-412\"><statement name=\"ONSTART\"><block type=\"aiot_lcd1602_backlight\" id=\"C?t9,u=A/XLKkcJ3Hoo@\"><field name=\"action\">on</field><next><block type=\"aiot_lcd1602_display\" id=\"!lEvQ*8R$VTF?WhL.pBT\"><value name=\"string\"><shadow type=\"text\" id=\"Eb5Ce3f;t.EMzR:E]UH;\"><field name=\"TEXT\">Booting</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"C^Lyou8*hqbBZ)C[xWol\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"]CNY@bG%4KV*^Ne7[8yL\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"Z-o%[RUrg=-40N0@|%eV\"><field name=\"VAR\" id=\"VtH]~MgY-v4job|mY]A9\">userOverride</field><value name=\"VALUE\"><block type=\"math_number\" id=\"h]1_ru5vL/U|xNF+*5Vc\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"TX6^=%~w0ud|i8sL^3:1\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field><value name=\"VALUE\"><block type=\"math_number\" id=\"k=YKMWv^[6xsQ[w-{1C2\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"ejU1Z(BFbiGHKYYkU!tC\"><field name=\"VAR\" id=\"*9K-[s!1S(?lYVG{E3`J\">temp</field><value name=\"VALUE\"><block type=\"math_number\" id=\"}XJ,5PDYqa@0^e`aA~5G\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"HnzlxYwhbduP=X=*@Ys+\"><field name=\"VAR\" id=\"FGMlW5~!X/0E|Y(kaGEc\">humid</field><value name=\"VALUE\"><block type=\"math_number\" id=\"GH9DP1pjKbHtX?{J%3[E\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"G3}K2f.NBR*rZ*=r?i{E\"><field name=\"VAR\" id=\"KEgf3BxC6:+B/?,${;UP\">moist</field><value name=\"VALUE\"><block type=\"math_number\" id=\"d3%WP6Im8+`xrSrO2vMA\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"5GbI(,X5)ucAf721QxE.\"><field name=\"VAR\" id=\"Q7%H]S{V@4biRA8EdAl}\">pumpSignalSent</field><value name=\"VALUE\"><block type=\"math_number\" id=\"-jY1bhC@@@8S:Q4eG:3v\"><field name=\"NUM\">0</field></block></value><next><block type=\"aiot_minifan\" id=\",JWn#?9T+:v!qB{%[K70\"><field name=\"NAME\">pin3</field><value name=\"percent\"><shadow type=\"math_number\" id=\"9^-T2b1J6IwvEekF;$Pv\"><field name=\"NUM\">70</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"ZcV:[(;s5WKetY1IRikA\"><next><block type=\"yolobit_basic_sleep\" id=\"pd,hI}j:V-|D-RBv`m#A\"><value name=\"duration\"><shadow type=\"math_number\" id=\"oTT]_]a!(erh{*|R(PAw\"><field name=\"NUM\">100</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"Pt1Rfc8c*k6IR1L!~lbW\" x=\"313\" y=\"-412\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"!]}+gwwtQ=8$3(Lw:5Mk\"><field name=\"NUM\">0.2</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"O{2v5TqBh;k3gsBzyT,9\"><field name=\"VAR\" id=\"Xf_)u_=nVi#[6Bg!ojrY\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"2lE_`ea+K]@mi1p}%B*P\"></block></value><next><block type=\"controls_if\" id=\"YJ{2z`-hn)KcU5dL4w}@\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"?,/y[=)be(`3pRgM;7oc\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"kG,/h]ZRd:aop,i#D#-:\"><field name=\"VAR\" id=\"Xf_)u_=nVi#[6Bg!ojrY\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"1sZV$6o4gA#d5UF6:kQo\"><field name=\"TEXT\">P</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_events_broadcast_message\" id=\"~H5SZf9_:$a3XvLciJf$\"><field name=\"MESSAGE\">0</field></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"4+vuLILRZtpcEu~a}woN\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"NT+H6L{83,Y9YV}4VIwK\"><field name=\"VAR\" id=\"Xf_)u_=nVi#[6Bg!ojrY\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"*R9Xp8A)d^l08Rf.4=+u\"><field name=\"TEXT\">p</field></block></value></block></value><statement name=\"DO1\"><block type=\"yolobit_events_broadcast_message\" id=\"{dy-hv0q:.I;=],AW4-F\"><field name=\"MESSAGE\">1</field></block></statement></block></next></block></statement></block><block type=\"yolobit_events_condition\" id=\"aqfn)`c]$Oz9M4Ouct):\" x=\"838\" y=\"-437\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"XK!.y9Ly=D9$?bwOt%=Q\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"oZH[uq:P87;*Zz+bcO8,\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"oH*lH|k[X!Oz@c5t0T9i\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"ACTION\"><block type=\"aiot_dual_usb\" id=\"knCiBbgsO:-Ju{HXR^E/\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Cs#P}[+ulc*2dl~mEl30\"><field name=\"NUM\">100</field></shadow></value></block></statement></block><block type=\"yolobit_events_condition\" id=\"s8NUei1tZ6j^c+|fl.]!\" x=\"838\" y=\"-313\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"N,*Z6.q_I`|U!V#C4YKv\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"ivGq:(w+E5-VFxrbDL`@\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"=U0lMPnmtNh|OViUhy4x\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"ACTION\"><block type=\"aiot_dual_usb\" id=\"87.{}d/!w:-;Fn!*VK1v\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Jqh(K_wx!`GdIRuz%dX~\"><field name=\"NUM\">0</field></shadow></value></block></statement></block><block type=\"yolobit_events_timer\" id=\"lX=D-|GEcVV0L#?)^yHy\" x=\"313\" y=\"-187\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"TAauY%zp5lrx]mwjpo{?\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_dht_measure\" id=\"oOG^`#eEl[v(Msgn~,Y2\"><next><block type=\"variables_set\" id=\"]J!1L7V.,1FM6m%INx,=\"><field name=\"VAR\" id=\"*9K-[s!1S(?lYVG{E3`J\">temp</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"}heI8%3bcaB-;G#XK_uU\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\"yzZS)LM_VM;:OC%Zh/4A\"><field name=\"VAR\" id=\"FGMlW5~!X/0E|Y(kaGEc\">humid</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"Z~#U[}J6LPVSZD!Awi7a\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"variables_set\" id=\"qUU1YKuA77ecWTyY:@Iq\"><field name=\"VAR\" id=\"KEgf3BxC6:+B/?,${;UP\">moist</field><value name=\"VALUE\"><block type=\"aiot_soil_sensor\" id=\".n%PK^C6:xD{%ZN=PF-v\"><field name=\"NAME\">pin0</field></block></value><next><block type=\"controls_if\" id=\"ClI6u_22`.9A8I:m1GI(\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"v$9!Ag3Q^rR#/btKd-Ip\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"pUg?[(ieHO%rd3t,eR.;\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"{|_gHx/e4Zc:!MOLkY(H\"><field name=\"VAR\" id=\"KEgf3BxC6:+B/?,${;UP\">moist</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"@8jnn4YQ@/,}(Oklm`~%\"><field name=\"NUM\">50</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"n_YI?:w_AQm_-rc/5X$3\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"96E%HH8ejC(F4d82lWS#\"><field name=\"VAR\" id=\"VtH]~MgY-v4job|mY]A9\">userOverride</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"ExFup=f#pKV_t@TkkAJ*\"><field name=\"NUM\">0</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"wIJF{2#Ma[BF4aW=}V$4\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field><value name=\"VALUE\"><block type=\"math_number\" id=\"T]J?]y-ZQk`XLClfEL;*\"><field name=\"NUM\">1</field></block></value></block></statement><value name=\"IF1\"><block type=\"logic_operation\" id=\"_G@%h=hDrb3H=ZGo2Uc,\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"dn7(v^VGd/b-`/!%M/Lf\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"}Mut6wJoS-f%z)6Fc|O#\"><field name=\"VAR\" id=\"KEgf3BxC6:+B/?,${;UP\">moist</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"];OHCb^zYp_7f8I^pArs\"><field name=\"NUM\">50</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"K]|l0@l{?d44{n(pXN_O\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"fB,H_?k|x9T1YL#Ozt{y\"><field name=\"VAR\" id=\"VtH]~MgY-v4job|mY]A9\">userOverride</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"ObFYtlV53qTFgi9KZJ=9\"><field name=\"NUM\">0</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"i=A])eN`(vZv[~$8pel3\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field><value name=\"VALUE\"><block type=\"math_number\" id=\"kC_9T7VriBpn`Gith.D}\"><field name=\"NUM\">0</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_message\" id=\"4#,P5@P(YX|QQ^R_W$kz\" x=\"838\" y=\"-187\"><field name=\"MESSAGE\">0</field><statement name=\"ACTION\"><block type=\"variables_set\" id=\"G@7=K2oAUWcnZ3XQ9Q?m\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field><value name=\"VALUE\"><block type=\"math_number\" id=\"ggyEPNM[t-~1xggv(b-8\"><field name=\"NUM\">1</field></block></value><next><block type=\"variables_set\" id=\"LP76wWFBE^cG~6?Gx?Ba\"><field name=\"VAR\" id=\"VtH]~MgY-v4job|mY]A9\">userOverride</field><value name=\"VALUE\"><block type=\"math_number\" id=\"SL][A10|v{]XmBPXaF|}\"><field name=\"NUM\">1</field></block></value></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"h76.y:bJND|}/Y|#kb@d\" x=\"313\" y=\"213\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"CDnU/dc/,?l*!ss[wi~K\"><field name=\"NUM\">10</field></shadow></value><statement name=\"ACTION\"><block type=\"xbot_serial_write_string\" id=\"j20=Mi5TctcN.Z{uCjqX\"><value name=\"string\"><shadow type=\"text\" id=\"]v6E+OAgN~rkV`]J4,I5\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"SLyCO$deSu?p*w$owRa_\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"o!asp(C!e{k8eAWHEa2H\"><field name=\"TEXT\">!1:T:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"WYS4=Gbv*3^kjBYpM_RU\"><field name=\"VAR\" id=\"*9K-[s!1S(?lYVG{E3`J\">temp</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\".T*k!e]2M%DC?ydwZvZ2\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"UEH5@?uIMUcg.w}q)J`^\"><value name=\"string\"><shadow type=\"text\" id=\"]v6E+OAgN~rkV`]J4,I5\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"3!|4.)6$?nY;?|2bsNX8\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"#Hwk,FM^Ys]E`myY^rgp\"><field name=\"TEXT\">!1:H:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"))Asn,P_5MF0Rp?-0H.P\"><field name=\"VAR\" id=\"FGMlW5~!X/0E|Y(kaGEc\">humid</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"%bU0P$%#|6?,DNsP*_^2\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"vp,^Sgh1ph6$J%Z,yvI5\"><value name=\"string\"><shadow type=\"text\" id=\"]v6E+OAgN~rkV`]J4,I5\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"Mx0v5.lK/DEmVZw(~img\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"cUjxYPVz_#FqhhIkELO+\"><field name=\"TEXT\">!1:M:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"jCa-P/waZgoP7(:m)iOl\"><field name=\"VAR\" id=\"KEgf3BxC6:+B/?,${;UP\">moist</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"(O|NbkE^/kO:!+w$k*{i\"><field name=\"TEXT\">#</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"7$Vx[Fu(#%{Q@n78K-?K\" x=\"313\" y=\"512\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"HBj9iMF3DZ6v8=3ly}z1\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_lcd1602_clear\" id=\"wwnXnIEDb$J]vyc@I[,6\"><next><block type=\"aiot_lcd1602_display\" id=\"+U@pVjx33aMGK7Ju]+]]\"><value name=\"string\"><shadow type=\"text\" id=\"Xq%h[$Sh#U#3YNGOpz~J\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"xu1EaGxIKSdeAic}z$O=\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"fe1Q-9w5Km-2,rCNEw^?\"><field name=\"TEXT\">ND:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"#ZipJ[jnO22FU6v)1e(Z\"><field name=\"VAR\" id=\"*9K-[s!1S(?lYVG{E3`J\">temp</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"|qA1])F?-66-Osd+}MiG\"><field name=\"TEXT\"> </field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"yE}t}4Pi!x#@kGFqqf]1\"><field name=\"TEXT\">DA:</field></block></value><value name=\"ADD4\"><block type=\"variables_get\" id=\"($fVK:^#e~4ybA4VfLd+\"><field name=\"VAR\" id=\"FGMlW5~!X/0E|Y(kaGEc\">humid</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"mYp0v~6-rzHBAr}5[(|9\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\")c.rXdPX5qm]gU:Wn8?;\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"u|iD2b,weUaMHPEh4Axh\"><value name=\"string\"><shadow type=\"text\" id=\"Xq%h[$Sh#U#3YNGOpz~J\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\")pz).$d1y#djO]n%}w{)\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"8!Ek,34pSNlTb(]2M:[4\"><field name=\"TEXT\">MOIST:</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"3./~W9TJ%B!l:8Y[8uqq\"><field name=\"VAR\" id=\"KEgf3BxC6:+B/?,${;UP\">moist</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"0_v#2pXtJip@,li{f?:A\"><field name=\"TEXT\"> P: </field></block></value><value name=\"ADD3\"><block type=\"variables_get\" id=\"F*,kFSE4_pGOrCv-)r,_\"><field name=\"VAR\" id=\"-25N_N@kd7L#69f!$%tZ\">PumpStatus</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"]G;U{VrpNeoG3LZt6qnS\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"Iyoc8SMn^EF]:Lj!HFfQ\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></statement></block></xml>","python":"from event_manager import *\nfrom aiot_lcd1602 import LCD1602\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nimport time\nimport sys\nimport uselect\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\n\nevent_manager.reset()\n\ndef on_event_message_callback_m_w_z_Q_X():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  PumpStatus = 0\n  userOverride = 0\n\nevent_manager.add_message_event(1, on_event_message_callback_m_w_z_Q_X)\n\naiot_lcd1602 = LCD1602()\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ndef on_event_timer_callback_P_t_R_f_c():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  cmd = read_terminal_input()\n  if cmd == 'P':\n    event_manager.broadcast_message(0)\n  elif cmd == 'p':\n    event_manager.broadcast_message(1)\n\nevent_manager.add_timer_event(200, on_event_timer_callback_P_t_R_f_c)\n\ndef on_event_condition_callback_a_q_f_n_c():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  pin14.write_analog(round(translate(100, 0, 100, 0, 1023)))\n\nevent_manager.add_condition_event(lambda:(PumpStatus == 1), on_event_condition_callback_a_q_f_n_c)\n\ndef on_event_condition_callback_s_N_U_e_i():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n\nevent_manager.add_condition_event(lambda:(PumpStatus == 0), on_event_condition_callback_s_N_U_e_i)\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\ndef on_event_timer_callback_l_X_D_G_E():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  aiot_dht20.read_dht20()\n  temp = aiot_dht20.dht20_temperature()\n  humid = aiot_dht20.dht20_humidity()\n  moist = round(translate((pin0.read_analog()), 0, 4095, 0, 100))\n  if moist < 50 and userOverride == 0:\n    PumpStatus = 1\n  elif moist >= 50 and userOverride == 0:\n    PumpStatus = 0\n  else:\n    pass\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_l_X_D_G_E)\n\ndef on_event_message_callback_P_P_Y_X_Q():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  PumpStatus = 1\n  userOverride = 1\n\nevent_manager.add_message_event(0, on_event_message_callback_P_P_Y_X_Q)\n\ndef on_event_timer_callback_h_y_b_J_N():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  print((''.join([str(x) for x in ['!1:T:', temp, '#']])), end =' ')\n  print((''.join([str(x2) for x2 in ['!1:H:', humid, '#']])), end =' ')\n  print((''.join([str(x3) for x3 in ['!1:M:', moist, '#']])), end =' ')\n\nevent_manager.add_timer_event(10000, on_event_timer_callback_h_y_b_J_N)\n\ndef on_event_timer_callback_V_x_F_u_Q():\n  global cmd, PumpStatus, temp, userOverride, humid, moist, pumpSignalSent\n  aiot_lcd1602.clear()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr((''.join([str(x4) for x4 in ['ND:', temp, ' ', 'DA:', humid]])))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr((''.join([str(x5) for x5 in ['MOIST:', moist, ' P: ', PumpStatus]])))\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_V_x_F_u_Q)\n\nif True:\n  aiot_lcd1602.backlight_on()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr('Booting')\n  userOverride = 0\n  PumpStatus = 0\n  temp = 0\n  humid = 0\n  moist = 0\n  pumpSignalSent = 0\n  pin3.write_analog(round(translate(70, 0, 100, 0, 1023)))\n\nwhile True:\n  event_manager.run()\n  time.sleep_ms(100)\n","name":"DN","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}